(this.webpackJsonpassignment=this.webpackJsonpassignment||[]).push([[0],{53:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(14),s=n.n(r),o=n(59),i=n(55),d=n(15),l=n(9),j="blogAppUser",b="GET_USER",u="LOGIN_FAILED",O="LOGIN_SUCCESS",h=function(e){return{type:O,payload:e}},p=function(){var e=JSON.parse(localStorage.getItem(j));return e?function(t){return t(h(e))}:function(e){return e({type:u})}},x=n(1);var m=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.isAuthenticated,n=Object(l.c)();Object(c.useEffect)((function(){n(p())}),[]);var a=Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("h6",{children:"Login to view your blogs or comments"}),Object(x.jsx)(d.b,{to:"/login",className:"mt-4",children:Object(x.jsx)(o.a,{variant:"outline-success",className:"mr-4 px-4",children:"Login"})})]}),r=Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("h6",{children:"View your blog or comments"}),Object(x.jsx)(d.b,{to:"/blog",className:"mt-4",children:Object(x.jsx)(o.a,{variant:"outline-success",className:"mr-4 px-4",children:"Blog"})})]});return Object(x.jsx)(i.a,{children:Object(x.jsxs)("main",{style:{height:"100vh"},className:"d-flex justify-content-center align-items-center flex-column",children:[Object(x.jsx)("h1",{className:"text-primary text-bold",style:{fontSize:"48px"},children:"Welcome to the Blog aap!"}),t?r:a]})})})),f=n(8),y=n(11),g=n(58);var v=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.dispatch,n=Object(c.useState)(""),a=Object(y.a)(n,2),r=a[0],s=a[1],d=Object(c.useState)(""),l=Object(y.a)(d,2),b=l[0],u=l[1];return Object(x.jsx)(i.a,{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:Object(x.jsxs)(g.a,{style:{maxWidth:"1000px"},className:"px-4 py-5 bg-light",onSubmit:function(e){e.preventDefault(),t(function(e){return function(t){localStorage.setItem(j,JSON.stringify(e)),t(h(e))}}({email:r,password:b}))},children:[Object(x.jsx)("h3",{className:"text-center text-bolder mb-4 text-primary",children:"Login or Create an Account"}),Object(x.jsxs)(g.a.Group,{children:[Object(x.jsx)(g.a.Label,{children:"Email"}),Object(x.jsx)(g.a.Control,{type:"email",required:!0,placeholder:"Enter your email",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(x.jsxs)(g.a.Group,{children:[Object(x.jsx)(g.a.Label,{children:"Password"}),Object(x.jsx)(g.a.Control,{type:"password",required:!0,placeholder:"Enter your password",value:b,onChange:function(e){return u(e.target.value)}})]}),Object(x.jsx)(o.a,{variant:"outline-primary",className:"w-100",type:"submit",children:"Login"})]})})})),E=n(7),C=n(24);var S=Object(l.b)((function(e){return{loading:e.auth.loading,isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.loading,n=e.isAuthenticated,a=e.component,r=Object(C.a)(e,["loading","isAuthenticated","component"]),s=Object(f.f)(),o=Object(l.c)();return Object(c.useEffect)((function(){o(p())}),[]),n&&s.goBack(),t||n?null:Object(x.jsx)(f.a,Object(E.a)({component:a},r))}));var k=Object(l.b)((function(e){return{loading:e.auth.loading,isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.loading,n=e.isAuthenticated,a=e.component,r=Object(C.a)(e,["loading","isAuthenticated","component"]),s=Object(f.f)(),o=Object(l.c)();return Object(c.useEffect)((function(){o(p())}),[]),n||s.goBack(),!t&&n?Object(x.jsx)(f.a,Object(E.a)({component:a},r)):null})),I=n(56),w=n(57),A=n(18),N=n.n(A),T=n(23),L="GET_COMMENTS",B="GET_COMMENTS_SUCCESS",_="GET_COMMENTS_FAILURE",D="EDIT_COMMENT",G="DELETE_COMMENT",M="ADD_COMMENT",K=function(e){var t=e.data,n=e.id;return{type:D,payload:{data:t,id:n}}},F=function(e){return{type:G,payload:{id:e}}},U=function(e){var t=e.name,n=e.postId,c=e.body;return{type:M,payload:{name:t,postId:n,body:c}}};var H=Object(l.b)((function(e){return{blogs:e.blogs.blogs,comments:e.comments.comments}}))((function(e){var t,n=e.blogs,a=void 0===n?[]:n,r=e.comments,s=void 0===r?[]:r,d=Object(c.useState)([]),j=Object(y.a)(d,2),b=j[0],u=j[1],O=Object(f.g)().id,h=a.find((function(e){return e.id===parseInt(O)})),p=Object(c.useState)(!1),m=Object(y.a)(p,2),v=m[0],E=m[1],C=Object(c.useState)(0),S=Object(y.a)(C,2),k=S[0],A=S[1],D=Object(c.useState)(!1),G=Object(y.a)(D,2),M=G[0],H=G[1],J=Object(c.useState)(""),R=Object(y.a)(J,2),P=R[0],V=R[1],W=Object(c.useState)(""),q=Object(y.a)(W,2),z=q[0],Q=q[1],X=Object(c.useState)(null===(t=b[k])||void 0===t?void 0:t.body),Y=Object(y.a)(X,2),Z=Y[0],$=Y[1],ee=Object(l.c)();Object(c.useEffect)((function(){u(s.filter((function(e){return e.postId===parseInt(O)})))}),[s]),Object(c.useEffect)((function(){ee(function(){var e=Object(T.a)(N.a.mark((function e(t){var n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:L}),e.prev=1,e.next=4,fetch("https://jsonplaceholder.typicode.com/comments");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,t({type:B,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:_});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var te=function(e){var t,n=parseInt(e.target.accessKey);$(null===(t=b[n])||void 0===t?void 0:t.body),A(n),E(!0)},ne=function(e){var t=parseInt(e.target.accessKey);ee(F(t))},ce=function(){E(!1),H(!1)};return h?Object(x.jsxs)(i.a,{children:[Object(x.jsxs)("h4",{children:["Blog id: ",null===h||void 0===h?void 0:h.id]}),Object(x.jsx)("h6",{children:null===h||void 0===h?void 0:h.body}),Object(x.jsx)("p",{children:"Comments for this post are down below"}),Object(x.jsxs)(I.a,{responsive:"md",striped:!0,bordered:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"#"}),Object(x.jsx)("th",{children:"Title"}),Object(x.jsx)("th",{children:"description"}),Object(x.jsx)("th",{children:"Post id"}),Object(x.jsx)("th",{children:"Edit"}),Object(x.jsx)("th",{children:"Delete"})]})}),Object(x.jsx)("tbody",{children:b.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.body}),Object(x.jsx)("td",{children:e.postId}),Object(x.jsx)("td",{accessKey:e.id,onClick:te,style:{cursor:"pointer"},children:"Edit"}),Object(x.jsx)("td",{accessKey:e.id,onClick:ne,style:{cursor:"pointer"},children:"Delete"})]},t)}))})]}),Object(x.jsx)(o.a,{onClick:function(){return H(!0)},children:"Add Comment to this post"}),M&&Object(x.jsxs)(w.a,{show:M,onHide:ce,children:[Object(x.jsx)(w.a.Header,{closeButton:!0,children:Object(x.jsx)(w.a.Title,{children:"Add Comment"})}),Object(x.jsxs)(w.a.Body,{children:[Object(x.jsx)(g.a.Control,{type:"textarea",placeholder:"Add new Title",value:z,onChange:function(e){return Q(e.target.value)}}),Object(x.jsx)(g.a.Control,{type:"textarea",placeholder:"Add new comment body",value:P,onChange:function(e){return V(e.target.value)}})]}),Object(x.jsxs)(w.a.Footer,{children:[Object(x.jsx)(o.a,{variant:"secondary",onClick:ce,children:"Close"}),Object(x.jsx)(o.a,{variant:"primary",onClick:function(){ee(U({body:P,postId:parseInt(O),name:z})),H(!1)},children:"Save Changes"})]})]}),v&&Object(x.jsxs)(w.a,{show:v,onHide:ce,children:[Object(x.jsx)(w.a.Header,{closeButton:!0,children:Object(x.jsx)(w.a.Title,{children:"Edit Comment"})}),Object(x.jsx)(w.a.Body,{children:Object(x.jsx)(g.a.Control,{type:"textarea",value:Z,onChange:function(e){return $(e.target.value)}})}),Object(x.jsxs)(w.a.Footer,{children:[Object(x.jsx)(o.a,{variant:"secondary",onClick:ce,children:"Close"}),Object(x.jsx)(o.a,{variant:"primary",onClick:function(){ee(K({id:k,data:Z})),ce()},children:"Save Changes"})]})]})]}):null})),J="GET_BLOGS",R="GET_BLOGS_SUCCESS",P="GET_BLOGS_FAILURE",V="EDIT_BLOG",W="DELETE_BLOG",q="IS_LIKED_BLOG",z=function(e){var t=e.data,n=e.id;return{type:V,payload:{data:t,id:n}}},Q=function(e){return{type:W,payload:{id:e}}};function X(e){return function(t){t(function(e){var t=e.id;return{type:q,payload:{id:t}}}({id:e}))}}var Y=Object(l.b)((function(e){return{blogs:e.blogs.blogs,loading:e.blogs.loading,hasErrors:e.blogs.hasError}}))((function(e){var t,n=e.blogs,a=void 0===n?[]:n,r=e.loading,s=e.hasErrors,d=Object(l.c)(),j=Object(f.f)(),b=Object(c.useState)(1),u=Object(y.a)(b,2),O=u[0],h=u[1],p=Object(c.useState)(!1),m=Object(y.a)(p,2),v=m[0],E=m[1],C=Object(c.useState)(0),S=Object(y.a)(C,2),k=S[0],A=S[1],L=Object(c.useState)(a.slice(5*(O-1),5*O)),B=Object(y.a)(L,2),_=B[0],D=B[1],G=Object(c.useState)(null===(t=_[k])||void 0===t?void 0:t.body),M=Object(y.a)(G,2),K=M[0],F=M[1],U=a.length/5;Object(c.useEffect)((function(){d(function(){var e=Object(T.a)(N.a.mark((function e(t){var n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:J}),e.prev=1,e.next=4,fetch("https://jsonplaceholder.typicode.com/posts");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,t({type:R,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:P});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.useEffect)((function(){D(a.slice(5*(O-1),5*O))}),[O,a]);var H=function(e){var t,n=parseInt(e.target.accessKey);F(null===(t=a[n])||void 0===t?void 0:t.body),A(n),E(!0)},V=function(e){var t=parseInt(e.target.accessKey);d(Q(t))},W=function(e){var t=parseInt(e.target.accessKey);d(X(t))},q=function(){E(!1)};return r?"Loading...":s?"Failed to load data! please try refreshing.":Object(x.jsxs)(i.a,{children:[Object(x.jsx)("h5",{className:"text-center mt-5",children:"Blogs"}),Object(x.jsxs)(I.a,{responsive:"md",striped:!0,bordered:!0,className:"mt-4",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"ID"}),Object(x.jsx)("th",{children:"Title"}),Object(x.jsx)("th",{children:"Description"}),Object(x.jsx)("th",{children:"Edit"}),Object(x.jsx)("th",{children:"Delete"}),Object(x.jsx)("th",{children:"Action"}),Object(x.jsx)("th",{children:"View"})]})}),Object(x.jsx)("tbody",{children:_.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.id}),Object(x.jsx)("td",{children:e.title}),Object(x.jsx)("td",{children:e.body},e.body),Object(x.jsx)("td",{onClick:H,accessKey:e.id,style:{cursor:"pointer"},children:"Edit"}),Object(x.jsx)("td",{onClick:V,accessKey:e.id,style:{cursor:"pointer"},children:"Delete"}),Object(x.jsx)("td",{onClick:W,accessKey:e.id,style:{cursor:"pointer"},children:e.liked?"Dislike":"Like"},e.liked),Object(x.jsx)("td",{onClick:function(){return j.push("/blogs/".concat(e.id))},style:{cursor:"pointer"},children:"View"})]},e.id)}))})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-center align-items-center mb-5",children:[O>1&&Object(x.jsx)(o.a,{className:"mr-4",onClick:function(){h((function(e){return e-1}))},children:"Previous"}),O!==U&&Object(x.jsx)(o.a,{onClick:function(){h((function(e){return e+1}))},children:"Next"})]}),v&&Object(x.jsxs)(w.a,{show:v,onHide:q,children:[Object(x.jsx)(w.a.Header,{closeButton:!0,children:Object(x.jsx)(w.a.Title,{children:"Edit Blog"})}),Object(x.jsx)(w.a.Body,{children:Object(x.jsx)(g.a.Control,{type:"textarea",value:K,onChange:function(e){return F(e.target.value)}})}),Object(x.jsxs)(w.a.Footer,{children:[Object(x.jsx)(o.a,{variant:"secondary",onClick:q,children:"Close"}),Object(x.jsx)(o.a,{variant:"primary",onClick:function(){d(z({id:k,data:K})),q()},children:"Save Changes"})]})]})]})}));var Z=function(){return Object(x.jsx)(d.a,{children:Object(x.jsxs)(f.c,{children:[Object(x.jsx)(f.a,{exact:!0,path:"/",component:m}),Object(x.jsx)(f.a,{exact:!0,path:"/assignment",component:m}),Object(x.jsx)(S,{exact:!0,path:"/login",component:v}),Object(x.jsx)(k,{exact:!0,path:"/blogs/:id",component:H}),Object(x.jsx)(k,{exact:!0,path:"/blog",component:Y})]})})},$=(n(52),n(16)),ee=n(37),te=n(38),ne={blogs:[],loading:!1,hasErrors:!1};var ce={user:{},isAuthenticated:!1,loading:!1,hasErrors:!1};var ae=n(39),re={comments:[],loading:!1,hasErrors:!1};var se=Object($.combineReducers)({blogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case R:return{blogs:t.payload,loading:!1,hasErrors:!1};case P:return Object(E.a)(Object(E.a)({},e),{},{loading:!1,hasErrors:!0});case V:return e.blogs.find((function(e){return e.id===t.payload.id}))?Object(E.a)(Object(E.a)({},e),{},{blogs:e.blogs.map((function(e){return e.id===t.payload.id?Object(E.a)(Object(E.a)({},e),{},{body:t.payload.data}):e}))}):e;case W:return Object(E.a)(Object(E.a)({},e),{},{blogs:e.blogs.filter((function(e){return e.id!==t.payload.id}))});case q:return e.blogs.find((function(e){return e.id===t.payload.id}))?Object(E.a)(Object(E.a)({},e),{},{blogs:e.blogs.map((function(e){return e.id===t.payload.id?Object(E.a)(Object(E.a)({},e),{},{liked:!e.liked}):e}))}):e;default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case B:return{comments:t.payload,loading:!1,hasErrors:!1};case _:return Object(E.a)(Object(E.a)({},e),{},{loading:!1,hasErrors:!0});case D:return e.comments.find((function(e){return e.id===t.payload.id}))?Object(E.a)(Object(E.a)({},e),{},{comments:e.comments.map((function(e){return e.id===t.payload.id?Object(E.a)(Object(E.a)({},e),{},{body:t.payload.data}):e}))}):e;case G:return Object(E.a)(Object(E.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.payload.id}))});case M:return Object(E.a)(Object(E.a)({},e),{},{comments:[].concat(Object(ae.a)(e.comments),[{body:t.payload.body,name:t.payload.name,id:100*Math.floor(11*Math.random())+1e3,postId:t.payload.postId}])});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case O:return{user:Object(E.a)({},t.payload),isAuthenticated:!0,loading:!1,hasErrors:!1};case u:return Object(E.a)(Object(E.a)({},e),{},{hasErrors:!0,loading:!1});default:return e}}}),oe=Object($.createStore)(se,Object(te.composeWithDevTools)(Object($.applyMiddleware)(ee.a)));s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(l.a,{store:oe,children:Object(x.jsx)(Z,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.80ba1aa2.chunk.js.map